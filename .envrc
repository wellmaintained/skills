# Beads Configuration for Git Worktrees and Multi-Agent Support
# This file is automatically loaded by direnv when you cd into this directory

# CRITICAL: Disable daemon mode for git worktrees
# The daemon cannot track which branch each worktree has checked out
export BEADS_NO_DAEMON=1
export BEADS_AUTO_START_DAEMON=false

# Set unique actor name per worktree for audit trail
# Uses directory basename so each worktree has its own identity
export BD_ACTOR="$(basename $PWD)"

# Optional: Explicit database path (uses project's .beads directory)
export BD_DB="$PWD/.beads/beads.db"

# Optional: Agent Mail coordination for multi-agent workflows
# Uncomment and configure if using Agent Mail for coordination:
# export BEADS_AGENT_MAIL_URL="http://127.0.0.1:8765"
# export BEADS_AGENT_NAME="$(whoami)-$(basename $PWD)-$(hostname)"
# export BEADS_PROJECT_ID="wellmaintained-skills"

# Optional: Adjust debounce to prevent write conflicts (default: 5s)
# export BEADS_FLUSH_DEBOUNCE=10

echo "âœ“ Beads configured for worktree: $(basename $PWD) (daemon disabled)"
