<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Beads Dashboard - {{ISSUE_ID}}</title>
  <link rel="stylesheet" href="/static/dashboard.css">
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/+esm';
    window.mermaid = mermaid;
  </script>
</head>
<body>
  <header>
    <h1>Beads Dashboard</h1>
    <div id="issue-title" class="issue-id">{{ISSUE_ID}}</div>
    <div id="metrics">
      <span id="completed-metric" class="metric">0/0 completed</span>
      <span id="blocked-metric" class="metric blocked">0 blocked</span>
      <span id="last-update" class="metric">Last update: Never</span>
    </div>
  </header>

  <main>
    <div id="error-banner" class="error-banner hidden"></div>
    <div id="loading" class="loading">Loading...</div>
    <div id="graph-container" class="graph-container hidden">
      <div class="zoom-controls">
        <button id="zoom-in" class="zoom-btn" title="Zoom In">+</button>
        <button id="zoom-out" class="zoom-btn" title="Zoom Out">−</button>
        <button id="zoom-reset" class="zoom-btn" title="Reset Zoom">⌂</button>
        <span id="zoom-level" class="zoom-level">100%</span>
      </div>
      <div class="mermaid-wrapper" id="mermaid-wrapper">
        <pre class="mermaid" id="graph"></pre>
      </div>
    </div>
  </main>

  <div id="modal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <button class="modal-close">&times;</button>
      <h2 id="modal-title"></h2>
      <div class="modal-section">
        <strong>Status:</strong> <span id="modal-status"></span>
      </div>
      <div class="modal-section">
        <strong>Description:</strong>
        <div id="modal-description"></div>
      </div>
      <div id="modal-notes-section" class="modal-section hidden">
        <strong>Notes:</strong>
        <div id="modal-notes"></div>
      </div>
    </div>
  </div>

  <script type="module" src="/static/dashboard.js"></script>
</body>
</html>
